<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Primary Meta Tags -->
    <title>Smart ToDo-List With AI</title>
    <meta name="title" content="Smart ToDo-List With AI" />
    <meta
      name="description"
      content="Modern smart to-do list app icon representing organization and productivity. Perfect for digital planning, task management, and achieving goals efficiently." />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://em.rival.github.io/smart-todo/" />
    <meta property="og:title" content="Smart ToDo-List With AI" />
    <meta
      property="og:description"
      content="Modern smart to-do list app icon representing organization and productivity. Perfect for digital planning, task management, and achieving goals efficiently." />
    <meta
      property="og:image"
      content="https://emrival.github.io/smart-todo/smart-todo/icons/apple-icon-144x144.png" />

    <!-- X (Twitter) -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:url"
      content="https://emrival.github.io/smart-todo/" />
    <meta property="twitter:title" content="Smart ToDo-List With AI" />
    <meta
      property="twitter:description"
      content="Modern smart to-do list app icon representing organization and productivity. Perfect for digital planning, task management, and achieving goals efficiently." />
    <meta
      property="twitter:image"
      content="https://emrival.github.io/smart-todo/icons/apple-icon-144x144.png" />

    <!-- Meta Tags Generated with https://metatags.io -->
    <meta name="theme-color" content="#0f172a" />
    <!-- Manifest yang diperbaiki -->

    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="/smart-todo/icons/apple-icon-57x57.png" />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="/smart-todo/icons/apple-icon-60x60.png" />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="/smart-todo/icons/apple-icon-72x72.png" />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="/smart-todo/icons/apple-icon-76x76.png" />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="/smart-todo/icons/apple-icon-114x114.png" />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="/smart-todo/icons/apple-icon-120x120.png" />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="/smart-todo/icons/apple-icon-144x144.png" />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="/smart-todo/icons/apple-icon-152x152.png" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/smart-todo/icons/apple-icon-180x180.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="/smart-todo/icons/android-icon-192x192.png" />

    <link
      rel="icon"
      type="image/png"
      sizes="144x144"
      href="/smart-todo/icons/android-icon-144x144.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/smart-todo/icons/favicon-32x32.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="/smart-todo/icons/favicon-96x96.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/smart-todo/icons/favicon-16x16.png" />
    <link rel="manifest" href="/smart-todo/icons/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta
      name="msapplication-TileImage"
      content="/smart-todo/icons/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />
    <script src="https://cdn.tailwindcss.com"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/plugin/localeData.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/id.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="loader">
      <div class="spinner"></div>
    </div>

    <div id="login-container" class="min-h-screen flex items-center justify-center p-4 bg-slate-50 dark:bg-slate-900">
      <div class="w-full max-w-md text-center bg-card p-8 rounded-2xl shadow-2xl border border-default transform transition-all duration-500 scale-95 opacity-0" id="login-card">
        
        <div class="mb-8">
          <div class="inline-block p-4 bg-blue-100 dark:bg-blue-900/50 rounded-full mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600 dark:text-blue-400">
                <path d="M9 12l2 2 4-4"/><path d="M21 12c0-4.97-4.03-9-9-9S3 7.03 3 12c0 1.62.44 3.16 1.2 4.5L3 21l4.5-1.2A8.93 8.93 0 0 0 12 21c4.97 0 9-4.03 9-9z"/>
                <path d="m18 5 1-1" /><path d="m21 8 1-1" /><path d="M15 2 16 1" />
            </svg>
          </div>
          <h1 class="text-3xl font-bold text-slate-800 dark:text-slate-100">Smart ToDo</h1>
          <p class="text-slate-500 dark:text-slate-400 mt-2">Agenda Cerdas, Hidup Teratur</p>
        </div>

        <div class="text-left space-y-4 mb-8">
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-6 h-6 flex items-center justify-center bg-green-100 dark:bg-green-900/50 rounded-full mt-1">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="text-green-600 dark:text-green-400"><path d="M20 6 9 17l-5-5"/></svg>
            </div>
            <div>
              <h3 class="font-semibold">Manajemen Tugas Visual</h3>
              <p class="text-sm text-slate-500 dark:text-slate-400">Atur jadwal Anda dengan kalender interaktif dan lacak progres dengan statistik.</p>
            </div>
          </div>
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-6 h-6 flex items-center justify-center bg-purple-100 dark:bg-purple-900/50 rounded-full mt-1">
               <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="text-purple-600 dark:text-purple-400"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>
            </div>
            <div>
              <h3 class="font-semibold">Asisten AI Cerdas</h3>
              <p class="text-sm text-slate-500 dark:text-slate-400">Buat tugas dari teks biasa dan dapatkan rencana aksi otomatis dengan bantuan AI.</p>
            </div>
          </div>
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-6 h-6 flex items-center justify-center bg-orange-100 dark:bg-orange-900/50 rounded-full mt-1">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="text-orange-600 dark:text-orange-400"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
            </div>
            <div>
              <h3 class="font-semibold">Tingkatkan Fokus</h3>
              <p class="text-sm text-slate-500 dark:text-slate-400">Gunakan Pomodoro Timer terintegrasi untuk bekerja lebih efisien tanpa gangguan.</p>
            </div>
          </div>
        </div>

        <button id="login-with-google-btn" class="w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-3 shadow-lg shadow-blue-500/20 hover:shadow-xl hover:shadow-blue-500/30">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 48 48">
            <path fill="#FFC107" d="M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"/>
            <path fill="#FF3D00" d="m6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"/>
            <path fill="#4CAF50" d="M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"/>
            <path fill="#FFFFFF" d="M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"/>
          </svg>
          Masuk dengan Google
        </button>
      </div>
    </div>
    
    <div
      id="app-container"
      class="hidden min-h-screen p-4 sm:p-6 lg:p-8 opacity-1 transition-opacity duration-300">
      <header
        class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4">
        <div class="flex-1 min-w-0">
          <h1 class="text-2xl sm:text-3xl font-bold flex items-center gap-3">
            <span>👋</span>Agenda Pribadi Saya
          </h1>
          <p
            id="realtime-clock"
            class="text-lg text-slate-500 dark:text-slate-400 font-medium"></p>
        </div>
        <div class="flex items-center justify-end gap-2 flex-shrink-0">
          <button
            id="install-btn"
            class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors hidden">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-download">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
              <polyline points="7 10 12 15 17 10" />
              <line x1="12" x2="12" y1="15" y2="3" />
            </svg>
          </button>
          <div class="relative">
            <button
              id="notification-bell-btn"
              class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-bell">
                <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9" />
                <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0" />
              </svg>
              <span
                id="notification-badge"
                class="hidden absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white"></span>
            </button>
            <div
              id="notification-popover"
              class="hidden absolute top-full right-0 mt-2 w-56 lg:w-80 max-w-[calc(100vw-2rem)] bg-card rounded-xl shadow-lg border border-default z-50">
              <div class="p-3 border-b border-default font-semibold">
                Deadline Mendekat
              </div>
              <div
                id="notification-popover-list"
                class="p-1 max-h-80 overflow-y-auto">
              </div>
            </div>
          </div>
          <button
            id="mute-btn"
            class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors">
            <svg
              id="icon-unmuted"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-volume-2">
              <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
              <path d="M15.54 8.46a5 5 0 0 1 0 7.07" />
              <path d="M19.07 4.93a10 10 0 0 1 0 14.14" />
            </svg>
            <svg
              id="icon-muted"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-volume-x hidden">
              <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
              <line x1="22" x2="16" y1="9" y2="15" />
              <line x1="16" x2="22" y1="9" y2="15" />
            </svg>
          </button>
          <button
            id="settings-btn"
            class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-settings">
              <path
                d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2.12l-.15.1a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1 0-2.12l.15-.1a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" />
              <circle cx="12" cy="12" r="3" />
            </svg>
          </button>
          <button
            id="toggle-theme-btn"
            class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors">
            <svg
              id="theme-icon-sun"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="hidden">
              <circle cx="12" cy="12" r="4" />
              <path d="M12 2v2" />
              <path d="M12 20v2" />
              <path d="m4.93 4.93 1.41 1.41" />
              <path d="m17.66 17.66 1.41 1.41" />
              <path d="M2 12h2" />
              <path d="M20 12h2" />
              <path d="m6.34 17.66-1.41 1.41" />
              <path d="m19.07 4.93-1.41 1.41" />
            </svg>
            <svg
              id="theme-icon-moon"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="hidden">
              <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" />
            </svg>
            <svg
              id="theme-icon-system"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="hidden">
              <rect width="20" height="14" x="2" y="3" rx="2" />
              <line x1="8" x2="16" y1="21" y2="21" />
              <line x1="12" x2="12" y1="17" y2="21" />
            </svg>
          </button>
        </div>
      </header>
      <main class="grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6">
        <div class="lg:col-span-1 space-y-6">
          <div class="bg-card p-4 rounded-xl shadow-md border border-default">
            <div
              id="calendar-header"
              class="flex items-center justify-between mb-4">
              <button
                id="prev-month-btn"
                class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="m15 18-6-6 6-6" />
                </svg>
              </button>
              <h2
                id="month-year-label"
                class="text-lg font-semibold text-center"></h2>
              <button
                id="next-month-btn"
                class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="m9 18 6-6-6-6" />
                </svg>
              </button>
            </div>
            <div id="calendar-grid" class="grid calendar-grid gap-y-1"></div>
          </div>

          <div class="bg-card p-4 rounded-xl shadow-md border border-default">
            <h3 class="text-lg font-semibold mb-3 flex items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-2">
                <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9" />
                <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0" />
                <path d="M4 2C2.8 3.7 2 5.7 2 8" />
                <path d="M20 8c0-2.3-.8-4.3-2-6" /></svg
              >Pengingat Hari Ini
            </h3>
            <div
              id="reminders-list"
              class="space-y-2 max-h-48 overflow-y-auto"></div>
          </div>

          <div class="bg-card p-4 rounded-xl shadow-md border border-default">
            <h3 class="text-lg font-semibold mb-3 flex items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-2">
                <path d="M12 20V10" />
                <path d="M18 20V4" />
                <path d="M6 20V16" /></svg
              >Statistik Tugas
            </h3>
            <div id="stats-container" class="space-y-3 text-sm"></div>
          </div>

          <div class="bg-card p-4 rounded-xl shadow-md border border-default">
            <h3 class="text-lg font-semibold mb-3 flex items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-2">
                <circle cx="12" cy="12" r="10" />
                <polyline points="12 6 12 12 16 14" />
              </svg>
              Pomodoro Timer
            </h3>
            <div class="text-center">
              <div
                id="pomodoro-display"
                class="text-2xl sm:text-3xl font-mono font-bold mb-3 text-blue-600 dark:text-blue-400">
                25:00
              </div>
              <div class="flex gap-1 justify-center mb-3">
                <button
                  id="pomodoro-start"
                  class="px-3 py-1.5 bg-green-500 hover:bg-green-600 text-white rounded text-sm">
                  Start
                </button>
                <button
                  id="pomodoro-pause"
                  class="px-3 py-1.5 bg-yellow-500 hover:bg-yellow-600 text-white rounded text-sm">
                  Pause
                </button>
                <button
                  id="pomodoro-reset"
                  class="px-3 py-1.5 bg-red-500 hover:bg-red-600 text-white rounded text-sm">
                  Reset
                </button>
              </div>
              <div class="text-xs text-slate-500 space-x-2">
                <button
                  id="work-mode"
                  class="pomodoro-mode-btn px-2 py-1 rounded bg-blue-100 dark:bg-blue-900">
                  Kerja
                </button>
                <button
                  id="break-mode"
                  class="pomodoro-mode-btn px-2 py-1 rounded">
                  Istirahat
                </button>
              </div>
            </div>
          </div>
          
          <div class="bg-card p-4 rounded-xl shadow-md border border-default">
              <div class="flex items-center gap-4">
                  <img id="user-profile-img" src="" alt="User profile" class="w-16 h-16 rounded-full"/>
                  <div class="flex-1">
                      <p id="user-profile-name" class="font-bold text-lg"></p>
                      <p id="user-profile-email" class="text-sm text-slate-500 dark:text-slate-400"></p>
                      <button id="logout-btn" class="mt-2 text-sm font-semibold text-red-600 hover:underline">
                        Logout
                      </button>
                  </div>
              </div>
          </div>

        </div>

        <div class="lg:col-span-2 space-y-6">
          <div
            class="bg-card p-4 rounded-xl shadow-md min-h-[300px] border border-default">
            <div
              class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-2">
              <h3 id="tasks-header" class="text-lg font-semibold">
                Tugas untuk Hari Ini
              </h3>
              <div class="flex items-center gap-2 self-end sm:self-center">
                <button
                  id="show-smart-add-modal-btn"
                  class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-opacity flex items-center gap-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-sparkles">
                    <path
                      d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" />
                    <path d="M5 3v4" />
                    <path d="M19 17v4" />
                    <path d="M3 5h4" />
                    <path d="M17 19h4" />
                  </svg>
                  Tambah Cerdas
                </button>
                <button
                  id="show-add-task-modal-btn"
                  class="bg-primary text-primary-foreground px-4 py-2 rounded-lg text-sm font-medium hover:opacity-90 transition-opacity flex items-center">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="mr-2">
                    <path d="M5 12h14" />
                    <path d="M12 5v14" /></svg
                  >Tambah Tugas
                </button>
              </div>
            </div>
            <div id="tasks-list" class="space-y-3"></div>
          </div>

          <div class="bg-card p-4 rounded-xl shadow-md border border-default">
            <h3 class="text-lg font-semibold mb-3 flex items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-2">
                <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8" />
                <path d="M3 3v5h5" />
                <path d="M12 7v5l4 2" /></svg
              >Riwayat Semua Tugas
            </h3>
            <div
              class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 mb-3">
              <input
                type="text"
                id="history-search"
                placeholder="Cari tugas..."
                class="lg:col-span-2 w-full bg-input border border-default rounded-lg px-3 py-1.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none" />
              <select
                id="history-category-filter"
                class="w-full bg-input border border-default rounded-lg px-3 py-1.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none">
                <option value="all">Semua Kategori</option>
              </select>
              <select
                id="history-priority-filter"
                class="w-full bg-input border border-default rounded-lg px-3 py-1.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none">
                <option value="all">Semua Prioritas</option>
                <option value="high">Tinggi</option>
                <option value="medium">Sedang</option>
                <option value="low">Rendah</option>
              </select>
              <select
                id="history-status-filter"
                class="w-full bg-input border border-default rounded-lg px-3 py-1.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none">
                <option value="all">Semua Status</option>
                <option value="completed">Selesai</option>
                <option value="pending">Belum Selesai</option>
              </select>
            </div>
            <div
              id="history-list"
              class="space-y-3 max-h-72 overflow-y-auto"></div>
          </div>
        </div>
      </main>

      <footer
        class="text-center py-4 mt-8 text-xs text-slate-400 dark:text-slate-500 border-t border-default">
        Credit by Muhammad Rival
      </footer>
    </div>

    <div
      id="task-modal"
      class="fixed inset-0 z-50 items-center justify-center hidden modal-backdrop">
      <div
        id="task-modal-content"
        class="bg-card rounded-xl shadow-2xl w-full max-w-md m-4 p-6 transform transition-all scale-95 opacity-0 border border-default">
        <div class="flex justify-between items-center mb-4">
          <h2 id="modal-title" class="text-xl font-bold"></h2>
          <button
            id="close-modal-btn"
            class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round">
              <path d="M18 6 6 18" />
              <path d="m6 6 12 12" />
            </svg>
          </button>
        </div>
        <form id="task-form">
          <input type="hidden" id="task-id" />
          <div class="space-y-4">
            <div>
              <label
                for="task-name"
                class="block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"
                >Nama Tugas</label
              ><input
                type="text"
                id="task-name"
                required
                class="w-full bg-input border border-default rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none" />
            </div>
            <div>
              <label
                for="task-deadline"
                class="block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"
                >Deadline</label
              ><input
                type="datetime-local"
                id="task-deadline"
                required
                class="w-full bg-input border border-default rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none" />
            </div>
            <div>
              <label
                for="task-category"
                class="block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"
                >Kategori</label
              ><select
                id="task-category"
                class="w-full bg-input border border-default rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none">
                <option value="Pribadi">Pribadi</option>
                <option value="Pekerjaan">Pekerjaan</option>
                <option value="Belajar">Belajar</option>
                <option value="Lainnya">Lainnya</option>
              </select>
            </div>
            <div>
              <label
                for="task-priority"
                class="block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"
                >Prioritas</label
              ><select
                id="task-priority"
                class="w-full bg-input border border-default rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none">
                <option value="medium">Sedang</option>
                <option value="high">Tinggi</option>
                <option value="low">Rendah</option>
              </select>
            </div>
            <div>
              <label
                for="task-link"
                class="block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"
                >Link (Opsional)</label
              ><input
                type="url"
                id="task-link"
                placeholder="https://contoh.com"
                class="w-full bg-input border border-default rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none" />
            </div>
            <div>
              <div class="flex justify-between items-center mb-1">
                <label
                  for="task-notes"
                  class="block text-sm font-medium text-slate-600 dark:text-slate-300"
                  >Catatan</label
                >
                <button
                  type="button"
                  id="generate-notes-btn"
                  class="text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold flex items-center gap-1">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="14"
                    height="14"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-sparkles">
                    <path
                      d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" />
                    <path d="M5 3v4" />
                    <path d="M19 17v4" />
                    <path d="M3 5h4" />
                    <path d="M17 19h4" />
                  </svg>
                  Buat Rencana Aksi
                </button>
              </div>
              <textarea
                id="task-notes"
                rows="3"
                class="w-full bg-input border border-default rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none"
                placeholder="Tambah catatan atau buat rencana aksi dengan AI..."></textarea>
            </div>
          </div>
          <div class="mt-6 flex justify-end">
            <button
              type="submit"
              id="save-task-btn"
              class="bg-primary text-primary-foreground px-5 py-2.5 rounded-lg text-sm font-semibold hover:opacity-90 transition-opacity">
              Simpan Tugas
            </button>
          </div>
        </form>
      </div>
    </div>

    <div
      id="smart-add-modal"
      class="fixed inset-0 z-50 items-center justify-center hidden modal-backdrop">
      <div
        id="smart-add-modal-content"
        class="bg-card rounded-xl shadow-2xl w-full max-w-lg m-4 p-6 transform transition-all scale-95 opacity-0 border border-default">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-bold flex items-center gap-2">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-sparkles text-blue-500">
              <path
                d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" />
              <path d="M5 3v4" />
              <path d="M19 17v4" />
              <path d="M3 5h4" />
              <path d="M17 19h4" />
            </svg>
            Tambah Tugas Cerdas
          </h2>
          <button
            id="close-smart-add-modal-btn"
            class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round">
              <path d="M18 6 6 18" />
              <path d="m6 6 12 12" />
            </svg>
          </button>
        </div>
        <p class="text-sm text-slate-500 dark:text-slate-400 mb-4">
          Tempel teks (email, catatan, dll.) di bawah ini dan biarkan AI
          menemukan tugas untuk Anda.
        </p>
        <textarea
          id="smart-add-textarea"
          rows="6"
          class="w-full bg-input border border-default rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none"
          placeholder="Contoh: 'Tolong siapkan laporan penjualan untuk hari Jumat. Oh ya, jangan lupa juga untuk follow up dengan klien X besok pagi.'"></textarea>
        <button
          id="process-text-btn"
          class="mt-4 w-full bg-blue-600 text-white px-5 py-2.5 rounded-lg text-sm font-semibold hover:bg-blue-700 transition-opacity relative flex justify-center items-center gap-2">
          <span class="btn-text">Proses Teks</span>
        </button>
        <div id="smart-add-results-container" class="mt-4 hidden">
          <h3 class="font-semibold mb-2">Tugas yang Disarankan:</h3>
          <div
            id="smart-add-results"
            class="space-y-2 max-h-48 overflow-y-auto p-2 border border-default rounded-lg"></div>
          <button
            id="add-selected-tasks-btn"
            class="mt-4 w-full bg-primary text-primary-foreground px-5 py-2.5 rounded-lg text-sm font-semibold hover:opacity-90 transition-opacity">
            Tambah Tugas Terpilih
          </button>
        </div>
      </div>
    </div>

    <div
      id="delete-confirm-modal"
      class="fixed inset-0 z-50 items-center justify-center hidden modal-backdrop">
      <div
        id="delete-confirm-modal-content"
        class="bg-card rounded-xl shadow-2xl w-full max-w-sm m-4 p-6 text-center transform transition-all scale-95 opacity-0 border border-default">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="48"
          height="48"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="mx-auto mb-4 text-red-500">
          <path
            d="m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z" />
          <path d="M12 9v4" />
          <path d="M12 17h.01" />
        </svg>
        <h3 class="text-lg font-semibold mb-2">Anda Yakin?</h3>
        <p class="text-sm text-slate-500 dark:text-slate-400 mb-6">
          Tindakan ini tidak dapat diurungkan. Anda akan menghapus tugas ini
          secara permanen.
        </p>
        <div class="flex justify-center gap-4">
          <button
            id="cancel-delete-btn"
            class="px-6 py-2 rounded-lg text-sm font-medium bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600">
            Batal</button
          ><button
            id="confirm-delete-btn"
            class="px-6 py-2 rounded-lg text-sm font-medium bg-red-600 text-white hover:bg-red-700">
            Hapus
          </button>
        </div>
      </div>
    </div>
    
    <div
      id="logout-confirm-modal"
      class="fixed inset-0 z-50 items-center justify-center hidden modal-backdrop">
      <div
        id="logout-confirm-modal-content"
        class="bg-card rounded-xl shadow-2xl w-full max-w-sm m-4 p-6 text-center transform transition-all scale-95 opacity-0 border border-default">
         <h3 class="text-lg font-semibold mb-2">Logout</h3>
         <p class="text-sm text-slate-500 dark:text-slate-400 mb-6">
          Apakah Anda yakin ingin keluar dari sesi ini?
        </p>
        <div class="flex justify-center gap-4">
           <button
            id="cancel-logout-btn"
            class="px-6 py-2 rounded-lg text-sm font-medium bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600">
            Batal</button
          ><button
            id="confirm-logout-btn"
            class="px-6 py-2 rounded-lg text-sm font-medium bg-red-600 text-white hover:bg-red-700">
            Ya, Logout
          </button>
        </div>
      </div>
    </div>
    
    <div
      id="settings-modal"
      class="fixed inset-0 z-50 items-center justify-center hidden modal-backdrop">
      <div
        id="settings-modal-content"
        class="bg-card rounded-xl shadow-2xl w-full max-w-sm m-4 p-6 transform transition-all scale-95 opacity-0 border border-default">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-xl font-bold">Pengaturan</h2>
          <button
            id="close-settings-modal-btn"
            class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 -mt-2 -mr-2">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round">
              <path d="M18 6 6 18" />
              <path d="m6 6 12 12" />
            </svg>
          </button>
        </div>
        <form id="settings-form">
          <div class="space-y-4">
            <div>
              <label
                for="panic-time-input"
                class="block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"
                >Waktu Notifikasi Panik (menit)</label
              >
              <input
                type="number"
                id="panic-time-input"
                min="1"
                class="w-full bg-input border border-default rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none"
                placeholder="Default: 5" />
            </div>
          </div>
          <div class="mt-6 flex justify-end">
            <button
              type="submit"
              class="w-full bg-primary text-primary-foreground px-5 py-2.5 rounded-lg text-sm font-semibold hover:opacity-90 transition-opacity">
              Simpan Pengaturan
            </button>
          </div>
        </form>
      </div>
    </div>

    <div id="todays-tasks-modal" class="fixed inset-0 z-50 items-center justify-center hidden modal-backdrop">
      <div id="todays-tasks-modal-content" class="bg-card rounded-xl shadow-2xl w-full max-w-2xl m-4 p-6 transform transition-all scale-95 opacity-0 border border-default">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-bold flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3 text-blue-500">
                <rect width="18" height="18" x="3" y="4" rx="2" ry="2" />
                <line x1="16" x2="16" y1="2" y2="6" />
                <line x1="8" x2="8" y1="2" y2="6" />
                <line x1="3" x2="21" y1="10" y2="10" />
            </svg>
            Tugas Anda Hari Ini
          </h2>
          <button id="close-todays-tasks-modal-btn" class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 6 6 18" />
                <path d="m6 6 12 12" />
            </svg>
          </button>
        </div>
        <div id="todays-tasks-list" class="space-y-3 max-h-[60vh] overflow-y-auto pr-2">
        </div>
        <div class="mt-6 flex justify-end">
          <button id="ok-todays-tasks-btn" class="w-full sm:w-auto bg-primary text-primary-foreground px-6 py-2.5 rounded-lg text-sm font-semibold hover:opacity-90 transition-opacity">
            Mengerti
          </button>
        </div>
      </div>
    </div>

    <div id="notification-container"></div>

    <script type="module" src="/smart-todo/scripts.js"></script>
  </body>
</html>
